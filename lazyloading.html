<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        div {
            width: 90%;
            margin: 10px auto;
            /* background-color: cadetblue; */
        }

        ul {
            display: flex;
            justify-content: space-evenly;
            flex-wrap: wrap;
            text-align: center;
        }

        li {
            width: 300px;
            height: 200px;
            margin: 10px 10px;
            animation: ImgGrad 1.5S linear infinite alternate;
            list-style: none;
        }

        @keyframes ImgGrad {
            0% {
                box-shadow: 1px 6px 13px 6px rgb(143 139 139);
            }
        }

        li:hover {
            width: 301.5px;
            height: 201.5px;
            margin: 9px 9px;
            box-shadow: 1px 6px 13px 7px #125074b3;
        }

        img {
            width: 100%;
            height: 100%;
            animation: ImgAnim 1.5s linear infinite alternate;
        }
    </style>
</head>

<body>
    <div>
        <ul>
            <li><img data-src="./img/wellpaperItab (32).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (17).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (27).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (37).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (47).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (5).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (6).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (16).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (8).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (9).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (10).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (11).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (12).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (13).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (14).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (15).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (16).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (17).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (18).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (19).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (20).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (21).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (22).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (23).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (24).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (25).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (26).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (27).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (28).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (29).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (30).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (31).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (46).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (47).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (48).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (23).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (24).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (25).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (26).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (23).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (24).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (25).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (26).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (36).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (37).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (38).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (39).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (23).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (24).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (25).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (26).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (36).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (37).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (38).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (39).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (46).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (47).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (48).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (9).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (11).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (12).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (13).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (14).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (15).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (6).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (8).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (9).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (10).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (11).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (12).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (13).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (14).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (15).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (16).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (17).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (18).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (19).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (20).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (21).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (22).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (23).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (24).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (25).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (26).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (27).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (28).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (29).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (30).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (31).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (32).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (33).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (34).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (35).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (36).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (37).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (38).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (39).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (40).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (41).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (42).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (43).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (44).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (45).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (7).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (46).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (47).jpg" alt=""></li>
            <li><img data-src="./img/wellpaperItab (48).jpg" alt=""></li>
        </ul>
    </div>
    <!-- <script src="./Jquer/jquery-3.6.0.min.js"></script> -->
    <script>

        // window.onload = queryImgSrc
        // window.onscroll = scrollImg(queryImgSrc)
        window.onbeforeunload = function () {
            document.documentElement.scrollTop = 0;  //ie下
            document.body.scrollTop = 0;  //非ie
        }
        const Img = document.querySelectorAll("img")


        window.onload = lazyLoad
        document.onscroll = lazyLoad
        window.onresize = lazyLoad
        //获取可视区域和滚动条距离顶部的距离
        function lazyLoad() {
            let visualHeigth = document.documentElement.clientHeight,
                elHeigth = document.documentElement.scrollTop;
            Img.forEach((item) => {
                //获取元素距离顶部的距离
                let itemHeigth = item.offsetTop
                if (itemHeigth < visualHeigth + elHeigth) {
                    if (item.src) {
                        return
                    }
                    let itemSrc = item.dataset.src
                    setTimeout(() => {
                        item.src = itemSrc;
                    }, 2000)
                }
            })
        }





        // 创建一个实例传参
        // let lazyLoned = new IntersectionObserver((enter) => {
        //     enter.forEach((item) => {
        //         if (item.isIntersecting) {
        //             let itemTar = item.target
        //             lazyLoned.unobserve(itemTar)
        //             setTimeout(() => {
        //                 itemTar.src = itemTar.dataset.src
        //             }, 800)
        //         }
        //     })
        // })
        // Img.forEach((items) => {
        //     lazyLoned.observe(items)
        //     console.log(lazyLoned);
        // })


        // let obs = new IntersectionObserver((enter) => {
        //     enter.forEach((items) => {
        //         if (items.isIntersecting) {
        //             let data_src = items.target.getAttribute("data-src");
        //             obs.unobserve(items.target)
        //             setTimeout(() => {
        //                 items.target.setAttribute('src', data_src);
        //             }, 800)
        //         }
        //     })
        // })
        // Img.forEach((item) => {
        //     obs.observe(item)
        // })


        // // 第一种
        // // 获取图片地址Img[i].dataset.src
        // function queryImgSrc() {
        //     for (let i = 0; i < Img.length; i++) {
        //         let ImgTop = Img[i].getBoundingClientRect().top;
        //         if (ImgTop < window.innerHeight) {
        //             Img[i].src = Img[i].dataset.src
        //         }
        //     }
        // }
        // function scrollImg(fn) {
        //     let ter = null
        //     let contex = this
        //     return function () {
        //         clearTimeout(ter)
        //         setTimeout(() => {
        //             fn.apply(contex)
        //         }, 500)
        //     }
        // }

        // 第二种
        ////回调函数接收一个参数这个参数是数组entries
        // const obs = new IntersectionObserver((entries) => {
        //     entries.forEach(enter => {
        //         if (enter.isIntersecting) {
        //             const image = enter.target;
        //             const data_src = image.getAttribute('data-src');
        //             obs.unobserve(image)
        //             setTimeout(() => {
        //                 //setAttribute('新值',旧值)
        //                 image.setAttribute('src', data_src);
        //             }, 500)

        //         }
        //     })
        // });
        // // //第一步创建一个实例传参callback
        // // // const obs = new IntersectionObserver(callback)
        // Img.forEach(item => {
        //     //每一次循环的时候使用obs的实例来观察observe方法来观察item节点
        //     obs.observe(item)
        // });


        //监控屏幕中的位置   与第二种相同
        // let monitor = new IntersectionObserver((items) => {
        //     items.forEach((item) => {
        //         console.log(item);
        //         //元素在屏幕中会触发isIntersecting对于true'
        //         if (item.isIntersecting) {
        //             //获取dom元素
        //             let { target } = item;
        //             // console.log(item.target);
        //             //已经监控的元素无需再监控
        //             monitor.unobserve(target);
        //             let data_src = target.attributes["data-src"].value
        //             //增加延时效果
        //             setTimeout(() => {
        //                 //获取对应得img的地址
        //                 target.src = data_src
        //             }, 500)
        //         }
        //     })
        // })
        // //监控屏幕中的位置
        // let monitor = new IntersectionObserver((items) => {
        //     items.forEach((item) => {
        //         //元素在屏幕中会触发isIntersecting对于true'
        //         if (item.isIntersecting) {
        //             //获取dom元素
        //             const image = item.target;
        //             console.log(image);
        //             //已经监控的元素无需再监控
        //             monitor.unobserve(image);
        //             //获取对应得img的地址
        //             let data_src = image.getAttribute("data-src")
        //             //增加延时效果
        //             setTimeout(() => {
        //                 image.setAttribute('src', data_src)
        //             }, 1000)
        //         }
        //     })
        // })
        // //监控元素
        // Img.forEach((item) => {
        //     monitor.observe(item)
        //     // console.log(item);
        // })



    </script>

</body>

</html>